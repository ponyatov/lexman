digraph {

subgraph frontend {

shape=box;

label="лексический анализатор"; shape=box; style=filled; color=blue;

"исходный код или\nтекстовый файл данных" [shape=invhouse];
"лексер" [shape=box];
"парсер" [shape=box];
"генератор промежуточного кода" [shape=box];

"исходный код или\nтекстовый файл данных" -> "лексер"
[label="  поток\l  единичных\lсимволов"];
 "лексер" -> "парсер" [label="  токены"];
 "парсер" -> "генератор промежуточного кода" [label="  AST-дерево"];
 
}

subgraph backend {

"машинно-независимый оптимизатор" [shape=box];
"кодогенератор" [shape=box];
"оптимизатор машинного кода" [shape=box];
"объектный файл" [shape=polygon,sides=4,skew=.1];

 "лексический анализатор" -> "машинно-независимый оптимизатор"
 [label="  SSA-представление\l  трехадресные команды VM"];
 "машинно-независимый оптимизатор" -> "кодогенератор" [label="  SSA"];
 "кодогенератор" -> "оптимизатор машинного кода"[label="  ассемблер"];
 "оптимизатор машинного кода" -> "объектный файл"
 [label="  машинный код\l  таблица символов"];
 
}

}
